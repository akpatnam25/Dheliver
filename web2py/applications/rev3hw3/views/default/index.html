<head><link rel="shortcut icon" href="#"></head>


{{extend 'layout.html'}}

{{block head}}

<script src="{{=URL('static', 'js/vue.js')}}"></script>
<script>

  var memos_url = "{{=URL('api', 'get_memos')}}";
  var add_memo_url = "{{=URL('api', 'add_memo', user_signature=True)}}";
  var del_memo_url = "{{=URL('api', 'delete_memo', user_signature=True)}}";
  var edit_memo_url = "{{=URL('api', 'edit_memo', user_signature=True)}}";
  var toggle_visibility_url = "{{=URL('api', 'toggle_visibility', user_signature=True)}}";


</script>

{{end}}

<div class="main_content">


  <div id="vue-div" class="display:none">
    <!-- Your code goes here.  Remember to call $("#vue-div").show() once you get the data for the first time. -->


    <div v-if="logged_in">

     <!-- Form to add memo -->
    <div v-if="is_adding_memo" id="add_memo_div">
      <form action="#"
            v-on:submit.prevent class="form-horizontal" enctype="multipart/form-data" method="post">
        <div class="form-group" id="no_table_title__row">
          <div>
            <input class="form-control string" id="no_table_title" v-model="form_title" placeholder="Title" type="text" />
            <span class="help-block"></span>
          </div>
        </div>
        <div class="form-group" id="no_table_description__row">
          <div>
            <input class="form-control string" id="no_table_description" name="description" type="text" v-model="form_description" placeholder="Description"/>
            <span class="help-block"></span>
          </div>
        </div>

      </form>
    </div>


     <div v-else="is_editing_memo" id="edit_memo_div">
      <form action="#" v-on:submit.prevent class="form-horizontal" enctype="multipart/form-data" method="post">
        <div class="form-group" id="no_table_title__row">
          <div>
            <input class="form-control string" id="no_table_title" v-model="form_title" placeholder="Title" type="text" />
            <span class="help-block"></span>
          </div>
        </div>
        <div class="form-group" id="no_table_description__row">
          <div>
            <input class="form-control string" id="no_table_description" name="description" type="text" v-model="form_description" placeholder="Description"/>
            <span class="help-block"></span>
          </div>
        </div>

      </form>
    </div>




    <!-- Buttons -->
    <div class="button_memo">
      <button v-if="!is_adding_memo" class="btn rounded"
              v-on:click="add_memo_button()" :disabled="!logged_in"
              v-bind:class="{'disabled': !logged_in}">
        <i class="fa fa-plus"></i>
      </button>
      <button v-if="is_adding_memo" class="btn rounded" v-on:click="add_memo()">
        <i class="fa fa-plus"></i> Add
      </button>
      <button v-if="is_adding_memo" class="btn rounded " v-on:click="add_memo_button()">
        <i class="fa fa-times"></i> Close
      </button>


       <!--<button v-if="!is_editing_memo" class="btn rounded"-->
              <!--v-on:click="edit_memo_button()"-->
              <!--:disabled="!logged_in"-->
              <!--v-bind:class="{'disabled': !logged_in}">-->
        <!--<i class="fa fa-plus"></i>-->
      <!--</button>-->

      <div v-for="checklist in checklists">
      <button v-if="is_editing_memo" class="btn rounded" v-on:click="edit_memo(checklist._idx)"
         v-on:click="edit_memo_button()"
         :disabled="!logged_in"
              v-bind:class="{'disabled': !logged_in}">
        <i class="fa fa-floppy-o"></i> Save
      </button>
      <button v-if="is_editing_memo" class="btn rounded " v-on:click="edit_memo_button()"
           :disabled="!logged_in"
           v-bind:class="{'disabled': !logged_in}">
        <i class="fa fa-times"></i> Cancel
      </button>
      </div>

    </div>



    <div v-for="checklist in checklists">
      <div class="memo">
        <div class="memo_text">
          <div class="memo_title">${checklist.title}</div>
          <div class="memo_description">${checklist.description}</div>
        </div>

          <div class="button_list">
            <div class="buttons"
            :disabled="!logged_in"
                v-bind:class="{'disabled': !logged_in}">
              <a class="btn rounded" :disabled="!logged_in"
                v-bind:class="{'disabled': !logged_in}">
                 <!--<i class="fa fa-edit fa-lg" v-on:click="edit_memo(checklist._idx)"></i>-->
                 <i class="fa fa-edit fa-lg" v-on:click="edit_memo_button()">
                </i>
              </a>
              <a class="btn rounded">
                 <i class="fa fa-trash" v-on:click="delete_memo(checklist._idx)"></i>
              </a>

                <button v-on:click="toggle_visibility(checklist._idx)">
                  <i v-if="is_public" class="fa fa-user"></i>
                  <i v-if="!is_public" class="fa fa-users"></i>
                </button>


            </div>
          </div>


      </div>
    </div>
    </div>

    <div v-if="!logged_in">

      <h1 class="main_title">Welcome!</h1>


    <p class="explanation">This site will help you organize your life by storing your checklists.
        Please log in to use it.</p>


       <div v-for="checklist in checklists">
         <div v-if="!is_public">

           <div class="memo">
        <div class="memo_text">
          <div class="memo_title">${checklist.title}</div>
          <div class="memo_description">${checklist.description}</div>
        </div>

          <div class="button_list">
            <div class="buttons"
            :disabled="!logged_in"
                v-bind:class="{'disabled': !logged_in}">
              <a class="btn rounded" :disabled="!logged_in"
                v-bind:class="{'disabled': !logged_in}">
                 <!--<i class="fa fa-edit fa-lg" v-on:click="edit_memo(checklist._idx)"></i>-->
                 <i class="fa fa-edit fa-lg" v-on:click="edit_memo_button()">
                </i>
              </a>
              <a class="btn rounded">
                 <i class="fa fa-trash" v-on:click="delete_memo(checklist._idx)"></i>
              </a>

                <!--<button v-on:click="toggle_visibility(checklist._idx)">-->
                  <!--<i v-if="is_public" class="fa fa-user"></i>-->
                  <!--<i v-if="!is_public" class="fa fa-users"></i>-->
                <!--</button>-->


            </div>
          </div>


      </div>


         </div>

    </div>


    </div>



<!---->

  </div>

</div>

<script src="{{=URL('static', 'js/default_index.js')}}"></script>
